{% extends "base.html" %}

{% block title %}Home - Gold Price Predictor{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-overlay">
        <div class="container">
            <div class="row min-vh-100 align-items-center">
                <div class="col-lg-8 mx-auto text-center text-white">
                    <h1 class="display-2 fw-bold mb-4 animate-fade-in">
                        <i class="fas fa-chart-line text-warning me-3"></i>
                        Gold Price Predictor
                    </h1>
                    <p class="lead mb-5 animate-fade-in-delay">
                        Leverage advanced machine learning algorithms to predict gold prices with 99.99% accuracy. 
                        Our Ridge Regression model analyzes market trends and provides reliable forecasts.
                    </p>
                    
                    <!-- Current Price Display -->
                    <div class="row justify-content-center mb-5">
                        <div class="col-md-4 mb-3">
                            <div class="price-card">
                                <div class="price-icon">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="price-info">
                                    <h3 class="price-value" id="currentPrice">
                                        {% if latest_price %}${{ "%.2f"|format(latest_price) }}{% else %}Loading...{% endif %}
                                    </h3>
                                    <p class="price-label">Current Gold Price</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="price-card">
                                <div class="price-icon">
                                    <i class="fas fa-arrow-trend-up"></i>
                                </div>
                                <div class="price-info">
                                    <h3 class="price-value {% if price_change and price_change > 0 %}text-success{% else %}text-danger{% endif %}">
                                        {% if price_change %}
                                            {% if price_change > 0 %}+{% endif %}${{ "%.2f"|format(price_change) }}
                                        {% else %}--{% endif %}
                                    </h3>
                                    <p class="price-label">24H Change</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="price-card">
                                <div class="price-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="price-info">
                                    <h3 class="price-value text-warning">99.99%</h3>
                                    <p class="price-label">Model Accuracy</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hero-buttons animate-fade-in-delay-2">
                        <a href="{{ url_for('prediction') }}" class="btn btn-warning btn-lg me-3">
                            <i class="fas fa-brain me-2"></i>Make Prediction
                        </a>
                        <a href="{{ url_for('visualization') }}" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-chart-line me-2"></i>View Analytics
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center mb-5">
                <h2 class="display-5 fw-bold mb-3">Why Choose Our Predictor?</h2>
                <p class="lead">Advanced features powered by machine learning</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h4>AI-Powered</h4>
                    <p>Our Ridge Regression model analyzes 20+ features to provide accurate predictions with minimal error.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h4>Real-time Analysis</h4>
                    <p>Get instant predictions based on current market conditions and historical data patterns.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h4>Interactive Charts</h4>
                    <p>Visualize trends, correlations, and predictions with beautiful, interactive charts and graphs.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center mb-5">
                <h2 class="display-5 fw-bold mb-3">Model Performance</h2>
                <p class="lead">Proven accuracy with extensive testing</p>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card">
                    <div class="stat-number">11,596</div>
                    <div class="stat-label">Training Samples</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card">
                    <div class="stat-number">$2.80</div>
                    <div class="stat-label">RMSE Error</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card">
                    <div class="stat-number">20</div>
                    <div class="stat-label">Features Used</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card">
                    <div class="stat-number">0.15%</div>
                    <div class="stat-label">Average Error</div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
// Animate numbers on scroll
document.addEventListener('DOMContentLoaded', function() {
    // Update current price periodically
    setInterval(updateCurrentPrice, 30000); // Update every 30 seconds
});

function updateCurrentPrice() {
    fetch('/api/price-analysis')
        .then(response => response.json())
        .then(data => {
            document.getElementById('currentPrice').textContent = `$${data.current_price.toFixed(2)}`;
        })
        .catch(error => console.error('Error updating price:', error));
}
</script>
{% endblock %}
